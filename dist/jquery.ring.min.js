/*! ring - v1.0.0 - 2014-09-15
* https://github.com/dilidilidi/ring
* Copyright (c) 2014 孙斌; Licensed MIT */
!function(a){"use strict";function b(a,b,c,d,e){var f=a.getContext("2d");f.fillStyle=e,f.beginPath(),f.arc(b,c,d,0,2*Math.PI),f.fill()}function c(a,b,c,d,e,f,g,h,i){var j={x:b,y:c};if(d=d||0,a.getContext){var k=a.getContext("2d");k.fillStyle=h,k.beginPath(),k.arc(j.x,j.y,f,d,e,i),k.lineTo(j.x,j.y),g?k.fill():(k.closePath(),k.stroke())}else console.log("您的浏览器不支持CANVAS 2D绘图!")}function d(a,b,c,d,e,f,g){d=(100*parseFloat(d).toFixed(2)).toString()+"%";var h=a.getContext("2d");h.fillStyle=g,h.font=e+"px "+f;var i=h.measureText(d).width;h.fillText(d,parseInt(b-i/2),parseInt(c+e/2))}var e=function(b,c){this.$element=a(b),this.options=a.extend({},e.DEFAULTS,c)};e.VERSION="1.0.0",e.DEFAULTS={size:100,outerCircleColor:"#e9e9e9",innerCircleColor:"#ffffff",sectorColor:"#ca2b45",ringWidth:20,text:1,fontSize:14,fontFamily:"arial",textColor:"#ff1616"},e.prototype.create=function(){var a=this.$element.get(0),e=this.options;a.width=a.height=e.size,b(a,e.size/2,e.size/2,e.size/2,e.outerCircleColor),c(a,e.size/2,e.size/2,0,2*Math.PI*parseFloat(e.text),e.size/2,!0,e.sectorColor,!1),b(a,e.size/2,e.size/2,e.size/2-e.ringWidth,e.innerCircleColor),d(a,e.size/2,e.size/2,e.text,e.fontSize,e.fontFamily,e.textColor)};var f=a.fn.ring;a.fn.ring=function(a){return this.each(function(){var b=new e(this,a);b.create()})},a.fn.ring.Constructor=e,a.fn.ring.noConflict=function(){return a.fn.ring=f,this}}(jQuery);